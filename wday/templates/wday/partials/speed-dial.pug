//- Template
//- SPEED DIAL ===========================

- var menuStyle    = "absolute top-0 right-0 z-10 flex flex-col items-center hidden mt-20 space-y-2"
- var wrapperStyle = "fixed top-52 right-6 group"
- var buttonStyle  = "flex items-center justify-center text-white bg-blue-700 rounded-full w-14 h-14"

mixin speed-dial-option(name, icon, link, title)
    button(
        type="button" 
        data-tooltip-placement="left" 
        class="flex justify-center items-center w-[52px] h-[52px] text-gray-500 bg-white rounded-full border border-gray-200"
        _="on mouseenter toggle .opacity-100 on #tooltip-#{name} until mouseleave end on click add .hidden to #dial-dropdown-menu then put 'Executing...' into #dial-response then fetch #{link} then wait 250ms then call window.location.reload() end"
        )
        i.fas(class="text-zinc-500 fa-"+icon)
        div.absolute.z-10.-left-40.inline-block.w-auto.px-3.py-2.text-sm.font-medium.text-white.transition-opacity.duration-300.bg-black.rounded-lg.shadow-sm.opacity-0(
            id="tooltip-#{name}"
            role="tooltip")

            span #{title}



//- wrapper
#wrapper(class=wrapperStyle data-dial-init)
    //- permanent button 
    button(
        type="button" 
        data-dial-toggle="speed-dial-menu-top-right" 
        aria-controls="speed-dial-menu-top-right"
        aria-expanded="false"
        class=buttonStyle
        _="on click toggle .hidden on #dial-dropdown-menu"
        )
        i.fas.fa-bolt 

    //- dropdown menu
    #dial-dropdown-menu(class=menuStyle)
        +speed-dial-option("solve" "robot" "solve/" "Solve Assignments")
        +speed-dial-option("clear" "eraser" "clear-slots/" "Clear Slots")
    
    #dial-response.text-2xs

